<link href="css/collection.css" rel="stylesheet"/>
<link href="css/button.css" rel="stylesheet"/>
<div class="collection">
  <div class="collection_header">
    <img class="collection_img" alt="album_art" ng-src="{{collection.imageLink}}">
    <div class="collection_data">
      <div id="content_title">{{collection.title}}</div>
      <div>
        Created by: {{collection.ownerName}} /
        {{collection.songCount}} songs /
        Duration: {{secondsToMinSec(collection.songTrackLength)}} /
        Genre: {{collection.genre}}
      </div>
      <div> Followers: {{collection.followerCount}} </div>
      <div> {{collection.description}}</div>
      <div id="spotify_buttons" ng-controller="CollectionCtrl">
        <a href="#" ng-controller="PlaybarCtrl">Play</a>
        <a href="#" ng-show="user.id != collection.ownerId">Follow</a>
        <a href="#" ng-show="user.id == collection.ownerId" ng-click="openEditPlaylistDialog()">Edit</a>
        <a href="#" ng-show="user.id == collection.ownerId" ng-click="deletePlaylist(collection.id)">Delete</a>
      </div>
    </div>
  </div>
  <ul class="collection" ng-controller="PlaybarCtrl">
    <li>
      <ul class="collection_tiles">
        <li>
          <div class="collection_tile">
            <span class="play_button_spacer"></span>
            <span class="add_button"></span>
            <a href="#" class="underline_on_hover">Title</a>
            <a href="#" class="underline_on_hover">Artist</a>
            <a href="#" class="underline_on_hover">Length</a>
            <span class="options_col"></span>
          </div>
        </li>
      </ul>
    </li>
    <li ng-repeat="song in collection.songs">
      <hr class="collection_hr">
      <ul class="collection_tiles">
        <li>
          <div class="collection_tile highlight_on_hover">
            <span class="play_button_spacer"><img class="play_button" src="../images/play.png" alt="Play"></span>
            <a href="#" ng-controller="CollectionCtrl" ng-attr-id="n" ng-click="saveSong(song.id)" class="add_button underline_on_hover" ng-model="dynamic_button">+</a>
            <a href="#" ng-attr-id="1" ng-dblclick="loadSong(1)" class="underline_on_hover">{{song.trackName}}</a>
            <a href="#" ng-controller="UserCtrl"
               ng-attr-id="{{song.artist.id}}"
               ng-click="loadUser(song.artist.id)"
               class="underline_on_hover">{{song.artist.stageName}}</a>
            <span>{{secondsToMinSec(song.trackLength)}}</span>
            <div class="dropdown options_col">
              <div class="options_button" ng-click="toggleDropdown(song.id)">...</div>
              <div ng-attr-id="other_dropdown_{{song.id}}" class="dropdown_content">
                <a href="#" ng-click="addSongToQueue(song.id)">Add to Queue</a>
                <a href="#" ng-click="removeSongFromPlaylist(song.id, collection.id)">Remove from Playlist</a>
                <a href="#" ng-repeat="playlist in playlists"
                   ng-show="playlist.id != collection.id"
                   ng-click="addSongToPlaylist(song.id, playlist.id)">
                  Add to {{playlist.title}}
                </a>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
</div>