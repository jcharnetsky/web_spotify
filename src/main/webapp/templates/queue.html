<link href="css/collection.css" rel="stylesheet"/>
<link href="css/button.css" rel="stylesheet">
<div class="queue">
  <p class="content_title">Coming up</p>
  <ul class="collection">
    <li ng-show="queue.queue.length">
      <ul class="collection_tiles">
        <li>
          <div class="collection_tile">
            <span class="play_button_spacer"></span>
            <span class="add_button"></span>
            <a href="#">Title</a>
            <a href="#">Artist</a>
            <a href="#">Length</a>
            <a href="#">Album</a>
            <span class="options_col"></span>
          </div>
        </li>
      </ul>
    </li>
    <li ng-repeat="song in queue.queue">
      <hr class="collection_hr">
      <ul class="collection_tiles">
        <li>
          <div class="collection_tile highlight_on_hover" ng-controller="PlaybarCtrl">
            <span ng-class="{'invisible': !song.hasAudio}" class="play_button_spacer">
              <img class="play_button"
                   src="../images/play.png"
                   ng-class="{'invisible': !song.hasAudio}"
                   ng-click="loadSong(song.hasAudio, song.id)" alt="Play">
            </span>
            <a href="#" ng-show="!song.saved" ng-click="saveSong(song.id)" class="add_button">+</a>
            <a href="#" ng-show="song.saved" ng-click="unsaveSong(song.id)" class="add_button">-</a>
            <a>{{song.trackName}}</a>
            <a href="#"ng-controller="UserCtrl"
               ng-click="loadUser(song.artist.id)">{{song.artist.stageName}}</a>
            <span>{{song.trackLength | secondsToMss}}</span>
            <a href="#" ng-click="loadAlbum(song.albumId)" ng-controller="CollectionCtrl">{{song.albumName}}</a>
            <div class="dropdown options_col">
              <div class="options_button" ng-click="toggleDropdown($index)">...</div>
              <div ng-attr-id="other_dropdown_{{$index}}" class="dropdown_content">
                <a href="#" ng-click="removeSongFromQueue(song.id)">Remove from queue</a>
                <a href="#" ng-repeat="playlist in playlists"
                            ng-controller="CollectionCtrl"
                            ng-click="addSongToPlaylist(song.id, playlist.id)">
                  Add to {{playlist.title}}
                </a>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
  <p class="content_title">Recently played</p>
  <ul class="collection">
    <li ng-repeat="song in queue.history">
      <hr class="collection_hr">
      <ul class="collection_tiles">
        <li>
          <div class="collection_tile highlight_on_hover" ng-controller="PlaybarCtrl">
            <span ng-class="{'invisible': !song.hasAudio}" class="play_button_spacer">
              <img class="play_button"
                   src="../images/play.png"
                   ng-class="{'invisible': !song.hasAudio}"
                   ng-click="loadSong(song.hasAudio, song.id)" alt="Play">
            </span>
            <a href="#" ng-show="!song.saved" ng-click="saveSong(song.id)" class="add_button">+</a>
            <a href="#" ng-show="song.saved" ng-click="unsaveSong(song.id)" class="add_button">-</a>
            <a>{{song.trackName}}</a>
            <a href="#"ng-controller="UserCtrl"
               ng-click="loadUser(song.artist.id)">{{song.artist.stageName}}</a>
            <span>{{song.trackLength | secondsToMss}}</span>
            <a href="#" ng-click="loadAlbum(song.albumId)" ng-controller="CollectionCtrl">{{song.albumName}}</a>
            <div class="dropdown options_col">
              <div class="options_button" ng-click="toggleDropdown($index)">...</div>
              <div ng-attr-id="other_dropdown_{{$index}}" class="dropdown_content">
                <a href="#" ng-click="removeSongFromQueue(song.id)">Remove from queue</a>
                <a href="#" ng-repeat="playlist in playlists"
                   ng-controller="CollectionCtrl"
                   ng-click="addSongToPlaylist(song.id, playlist.id)">
                  Add to {{playlist.title}}
                </a>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
</div>